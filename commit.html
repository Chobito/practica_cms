<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="keywords" content="commit, file, changes" />
  <title>commit</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</head>
<body>
<div id="header">
<h1 class="title">commit</h1>
</div>
<!-- This file is maintained within the docker/docker Github
     repository at https://github.com/docker/docker/. Make all
     pull requests against that repo. If you see this file in
     another repository, consider it read-only there, as it will
     periodically be overwritten by the definitive file. Pull
     requests which include edits to this file in other repositories
     will be rejected.
-->
<h1 id="commit">commit</h1>
<div class="sourceCode"><pre class="sourceCode markdown"><code class="sourceCode markdown">Usage:  docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]

Create a new image from a container&#39;s changes

Options:
  -a, --author string    Author (e.g., &quot;John Hannibal Smith <span class="ot">&lt;hannibal@a-team.com&gt;</span>&quot;)
  -c, --change value     Apply Dockerfile instruction to the created image (default [])
<span class="bn">      --help             Print usage</span>
  -m, --message string   Commit message
  -p, --pause            Pause container during commit (default true)</code></pre></div>
<h2 id="description">Description</h2>
<p>It can be useful to commit a container's file changes or settings into a new image. This allows you debug a container by running an interactive shell, or to export a working dataset to another server. Generally, it is better to use Dockerfiles to manage your images in a documented and maintainable way. <a href="tag.md">Read more about valid image names and tags</a>.</p>
<p>The commit operation will not include any data contained in volumes mounted inside the container.</p>
<p>By default, the container being committed and its processes will be paused while the image is committed. This reduces the likelihood of encountering data corruption during the process of creating the commit. If this behavior is undesired, set the <code>--pause</code> option to false.</p>
<p>The <code>--change</code> option will apply <code>Dockerfile</code> instructions to the image that is created. Supported <code>Dockerfile</code> instructions: <code>CMD</code>|<code>ENTRYPOINT</code>|<code>ENV</code>|<code>EXPOSE</code>|<code>LABEL</code>|<code>ONBUILD</code>|<code>USER</code>|<code>VOLUME</code>|<code>WORKDIR</code></p>
<h2 id="examples">Examples</h2>
<h3 id="commit-a-container">Commit a container</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span> ps

<span class="kw">CONTAINER</span> ID        IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES
<span class="kw">c3f279d17e0a</span>        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky
<span class="kw">197387f1b436</span>        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton

$ <span class="kw">docker</span> commit c3f279d17e0a  svendowideit/testimage:version3

<span class="kw">f5283438590d</span>

$ <span class="kw">docker</span> images

<span class="kw">REPOSITORY</span>                        TAG                 ID                  CREATED             SIZE
<span class="kw">svendowideit/testimage</span>            version3            f5283438590d        16 seconds ago      335.7 MB</code></pre></div>
<h3 id="commit-a-container-with-new-configurations">Commit a container with new configurations</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span> ps

<span class="kw">ICONTAINER</span> ID       IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES
<span class="kw">c3f279d17e0a</span>        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky
<span class="kw">197387f1b436</span>        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton

$ <span class="kw">docker</span> inspect -f <span class="st">&quot;{{ .Config.Env }}&quot;</span> c3f279d17e0a

[<span class="ot">HOME=</span>/ <span class="ot">PATH=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin]

$ <span class="kw">docker</span> commit --change <span class="st">&quot;ENV DEBUG true&quot;</span> c3f279d17e0a  svendowideit/testimage:version3

<span class="kw">f5283438590d</span>

$ <span class="kw">docker</span> inspect -f <span class="st">&quot;{{ .Config.Env }}&quot;</span> f5283438590d

[<span class="ot">HOME=</span>/ <span class="ot">PATH=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin <span class="ot">DEBUG=</span>true]</code></pre></div>
<h3 id="commit-a-container-with-new-cmd-and-expose-instructions">Commit a container with new <code>CMD</code> and <code>EXPOSE</code> instructions</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">docker</span> ps

<span class="kw">CONTAINER</span> ID        IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES
<span class="kw">c3f279d17e0a</span>        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky
<span class="kw">197387f1b436</span>        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton

$ <span class="kw">docker</span> commit --change=<span class="st">&#39;CMD [&quot;apachectl&quot;, &quot;-DFOREGROUND&quot;]&#39;</span> -c <span class="st">&quot;EXPOSE 80&quot;</span> c3f279d17e0a  svendowideit/testimage:version4

<span class="kw">f5283438590d</span>

$ <span class="kw">docker</span> run -d svendowideit/testimage:version4

<span class="kw">89373736e2e7f00bc149bd783073ac43d0507da250e999f3f1036e0db60817c0</span>

$ <span class="kw">docker</span> ps

<span class="kw">CONTAINER</span> ID        IMAGE               COMMAND                 CREATED             STATUS              PORTS              NAMES
<span class="kw">89373736e2e7</span>        testimage:version4  <span class="st">&quot;apachectl -DFOREGROU&quot;</span>  3 seconds ago       Up 2 seconds        80/tcp             distracted_fermat
<span class="kw">c3f279d17e0a</span>        ubuntu:12.04        /bin/bash               7 days ago          Up 25 hours                            desperate_dubinsky
<span class="kw">197387f1b436</span>        ubuntu:12.04        /bin/bash               7 days ago          Up 25 hours                            focused_hamilton</code></pre></div>
</body>
</html>
